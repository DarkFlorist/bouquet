{"version":3,"file":"Settings.js","sourceRoot":"","sources":["../../ts/components/Settings.tsx"],"names":[],"mappings":"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","sourcesContent":["import { batch, ReadonlySignal, Signal, useComputed, useSignal } from '@preact/signals'\nimport { formatUnits, parseUnits } from 'ethers'\nimport { JSX } from 'preact/jsx-runtime'\nimport { DEFAULT_NETWORKS } from '../constants.js'\nimport { Button } from './Button.js'\nimport { SingleNotice } from './Warns.js'\nimport { BouquetNetwork, BouquetSettings } from '../types/bouquetTypes.js'\nimport { fetchSettingsFromStorage } from '../stores.js'\nimport { useEffect } from 'preact/hooks'\n\nexport const SettingsIcon = () => {\n\treturn (\n\t\t<svg\n\t\t\tclass='text-white h-8 w-8'\n\t\t\taria-hidden='true'\n\t\t\tfill='none'\n\t\t\tstroke='currentColor'\n\t\t\tstrokeWidth={1.5}\n\t\t\tviewBox='0 0 24 24'\n\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t>\n\t\t\t<path\n\t\t\t\td='M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z'\n\t\t\t\tstrokeLinecap='round'\n\t\t\t\tstrokeLinejoin='round'\n\t\t\t/>\n\t\t\t<path d='M15 12a3 3 0 11-6 0 3 3 0 016 0z' strokeLinecap='round' strokeLinejoin='round' />\n\t\t</svg>\n\t)\n}\n\nexport const SettingsModal = ({ display, bouquetNetwork, bouquetSettings }: { display: Signal<boolean>, bouquetNetwork: ReadonlySignal<BouquetNetwork>, bouquetSettings: Signal<BouquetSettings>}) => {\n\tconst chainId = useSignal({ value: bouquetNetwork.peek().chainId, valid: true })\n\tconst simulationRelayEndpointInput = useSignal({ value: bouquetNetwork.peek().simulationRelayEndpoint, valid: true })\n\tconst submissionRelayEndpointInput = useSignal({ value: bouquetNetwork.peek().submissionRelayEndpoint, valid: true })\n\tconst priorityFeeInput = useSignal({ value: formatUnits(bouquetNetwork.peek().priorityFee, 'gwei'), valid: true })\n\tconst blocksInFutureInput = useSignal({ value: bouquetNetwork.peek().blocksInFuture.toString(10), valid: true })\n\tconst mempoolSubmitRpcEndpoint = useSignal({ value: bouquetNetwork.peek().mempoolSubmitRpcEndpoint, valid: true })\n\tconst mempoolSimulationRpcEndpoint = useSignal({ value: bouquetNetwork.peek().mempoolSimulationRpcEndpoint, valid: true })\n\tconst relayMode = useSignal({ value: bouquetNetwork.peek().relayMode, valid: true })\n\tconst loaded = useSignal(false)\n\n\tuseEffect(() => {\n\t\tbringSettingsValues()\n\t\tloaded.value = display.value\n\t}, [display.value])\n\tconst allValidInputs = useComputed(() => submissionRelayEndpointInput.value.valid && simulationRelayEndpointInput.value.valid && priorityFeeInput.value.valid && blocksInFutureInput.value.valid && mempoolSimulationRpcEndpoint.value.valid && mempoolSubmitRpcEndpoint.value.valid && mempoolSubmitRpcEndpoint.value.valid)\n\n\t// https://urlregex.com/\n\tconst uriMatcher = new RegExp(\n\t\t'^(https?):\\\\/\\\\/' + // protocol\n\t\t'((?:(?:[a-z\\\\d](?:[a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n\t\t'(?:(?:\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR IP (v4) address\n\t\t'(?:\\\\:(\\\\d+))?' + // port\n\t\t'((?:\\\\/[-a-z\\\\d%_.~+]*)*)' + // path\n\t\t'(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n\t\t'(\\\\#[-a-z\\\\d_]*)?$' // fragment locator\n\t)\n\tfunction validateSimulationRelayEndpointInput(value: string) {\n\t\tsimulationRelayEndpointInput.value = { value, valid: uriMatcher.test(value) }\n\t}\n\tfunction validateMempoolSubmitRpcEndpoint(value: string) {\n\t\tmempoolSubmitRpcEndpoint.value = { value, valid: uriMatcher.test(value) }\n\t}\n\tfunction validateMempoolSimulationRpcEndpointInput(value: string) {\n\t\tmempoolSimulationRpcEndpoint.value = { value, valid: uriMatcher.test(value) }\n\t}\n\tfunction validateAndSetSubmissionRelayEndpointInput(value: string) {\n\t\tsubmissionRelayEndpointInput.value = { value, valid: uriMatcher.test(value) }\n\t}\n\n\tfunction validateAndSetPriorityFeeInput(value: string) {\n\t\tif (!value) return priorityFeeInput.value = { value, valid: false }\n\t\ttry {\n\t\t\tparseUnits(String(Number(value)), 'gwei');\n\t\t\treturn priorityFeeInput.value = { value, valid: true }\n\t\t} catch {\n\t\t\treturn priorityFeeInput.value = { value, valid: false }\n\t\t}\n\t}\n\tfunction validateAndSetBlocksInFutureInput(value: string) {\n\t\tif (!value) return blocksInFutureInput.value = { value, valid: false }\n\t\ttry {\n\t\t\tBigInt(value)\n\t\t\treturn blocksInFutureInput.value = { value, valid: true }\n\t\t} catch {\n\t\t\treturn blocksInFutureInput.value = { value, valid: false }\n\t\t}\n\t}\n\tfunction saveSettings() {\n\t\tif (!allValidInputs.value) return\n\t\tconst newSettings = {\n\t\t\tsubmissionRelayEndpoint: submissionRelayEndpointInput.value.value,\n\t\t\tsimulationRelayEndpoint: simulationRelayEndpointInput.value.value,\n\t\t\tpriorityFee: parseUnits(String(Number(priorityFeeInput.value.value)), 'gwei'),\n\t\t\tblocksInFuture: BigInt(blocksInFutureInput.value.value),\n\t\t\tmempoolSubmitRpcEndpoint: mempoolSubmitRpcEndpoint.value.value,\n\t\t\tmempoolSimulationRpcEndpoint: mempoolSimulationRpcEndpoint.value.value,\n\t\t\trelayMode: relayMode.value.value,\n\t\t}\n\t\tconst oldSettings = fetchSettingsFromStorage()\n\t\tconst index = oldSettings.findIndex((item) => item.chainId === chainId.value.value)\n\t\tif (index >= 0) {\n\t\t\tlocalStorage.setItem('bouquetSettings', JSON.stringify(BouquetSettings.serialize(oldSettings.map((oldSetting) => {\n\t\t\t\tif (oldSetting.chainId !== chainId.value.value) return oldSetting\n\t\t\t\treturn { ...oldSetting, ...newSettings }\n\t\t\t}))))\n\t\t} else {\n\t\t\tlocalStorage.setItem('bouquetSettings', JSON.stringify(BouquetSettings.serialize([\n\t\t\t\t...oldSettings,\n\t\t\t\t{\n\t\t\t\t\t...newSettings,\n\t\t\t\t\tchainId: chainId.value.value,\n\t\t\t\t\tnetworkName: `ChainId: ${ chainId.value.value }`,\n\t\t\t\t\tblockExplorerApi: '',\n\t\t\t\t\tblockExplorer: '',\n\t\t\t\t}\n\t\t\t])))\n\t\t}\n\t\tdisplay.value = false\n\t\tbouquetSettings.value = fetchSettingsFromStorage()\n\t}\n\n\tfunction bringSettingsValues() {\n\t\tbatch(() => {\n\t\t\tchainId.value = { value: bouquetNetwork.peek().chainId, valid: true }\n\t\t\tsimulationRelayEndpointInput.value = { value: bouquetNetwork.peek().simulationRelayEndpoint, valid: true }\n\t\t\tsubmissionRelayEndpointInput.value = { value: bouquetNetwork.peek().submissionRelayEndpoint, valid: true }\n\t\t\tpriorityFeeInput.value = { value: formatUnits(bouquetNetwork.peek().priorityFee, 'gwei'), valid: true }\n\t\t\tblocksInFutureInput.value = { value: bouquetNetwork.peek().blocksInFuture.toString(10), valid: true }\n\t\t\tmempoolSimulationRpcEndpoint.value = { value: bouquetNetwork.peek().mempoolSimulationRpcEndpoint, valid: true }\n\t\t\tmempoolSubmitRpcEndpoint.value = { value: bouquetNetwork.peek().mempoolSubmitRpcEndpoint, valid: true }\n\t\t\trelayMode.value = { value: bouquetNetwork.peek().relayMode, valid: true }\n\t\t})\n\t}\n\n\tfunction resetSettings() {\n\t\tlocalStorage.setItem('bouquetSettings', JSON.stringify(BouquetSettings.serialize(DEFAULT_NETWORKS)))\n\t\tbouquetSettings.value = fetchSettingsFromStorage()\n\t\tbringSettingsValues()\n\t}\n\tfunction close() {\n\t\tdisplay.value = false\n\t}\n\treturn display.value && loaded.value ? (\n\t\t<div onClick={close} className='bg-white/10 w-full h-full inset-0 fixed p-4 flex flex-col items-center md:pt-24'>\n\t\t\t<div class='h-max px-8 py-4 w-full max-w-xl flex flex-col gap-4 bg-black' onClick={(e) => e.stopPropagation()}>\n\t\t\t\t<h2 className='text-xl font-semibold'>App Settings</h2>\n\t\t\t\t<label class = 'toggle-switch'>\n\t\t\t\t\t<input type = 'checkbox' checked = { relayMode.value.value === 'relay' ? false : true } onChange = { (e: JSX.TargetedEvent<HTMLInputElement>) => { relayMode.value = { value: e.currentTarget.checked ? 'mempool' : 'relay', valid: true } } }/>\n\t\t\t\t\t<a></a>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span class = 'left-span'>Relay</span>\n\t\t\t\t\t\t<span class = 'right-span'>Mempool</span>\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t{ relayMode.value.value === 'mempool' ? <>\n\t\t\t\t\t<SingleNotice variant = 'warn' title = 'Mempool mode is dangerous' description = { `When mempool mode is enabled, transactions are sent individually to the RPC URL specified below. As a result, some transactions may not make it onto the blockchain. This mode should only be used if a private relay is unavailable for the network. Additionally, if a sweeper is active on your account there is a high risk that rescue attempts may fail, allowing the sweeper to steal your gas funds and other assets. Use this mode only as a last resort when no other options are available.`} />\n\t\t\t\t\t<div key = {'mempoolSimulationRpcEndpoint'} className={`flex flex-col justify-center border h-16 outline-none px-4 focus-within:bg-white/5 bg-transparent ${!mempoolSimulationRpcEndpoint.value.valid ? 'border-red-400' : 'border-white/50 focus-within:border-white/80'}`}>\n\t\t\t\t\t\t<span className='text-sm text-gray-500'>Mempool Simulation RPC URL (an RPC with eth_simulateV1 support)</span>\n\t\t\t\t\t\t<input onInput={(e: JSX.TargetedEvent<HTMLInputElement>) => validateMempoolSimulationRpcEndpointInput(e.currentTarget.value)} value={mempoolSimulationRpcEndpoint.value.value} type='text' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='https://' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div key = {'mempoolSubmitRpcEndpoint'} className={`flex flex-col justify-center border h-16 outline-none px-4 focus-within:bg-white/5 bg-transparent ${!mempoolSubmitRpcEndpoint.value.valid ? 'border-red-400' : 'border-white/50 focus-within:border-white/80'}`}>\n\t\t\t\t\t\t<span className='text-sm text-gray-500'>Mempool Submit RPC URL (a sequencer or similar)</span>\n\t\t\t\t\t\t<input onInput={(e: JSX.TargetedEvent<HTMLInputElement>) => validateMempoolSubmitRpcEndpoint(e.currentTarget.value)} value={mempoolSubmitRpcEndpoint.value.value} type='text' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='https://' />\n\t\t\t\t\t</div>\n\t\t\t\t</> : <>\n\t\t\t\t\t<div key = {'simulationRelayEndpointInput'} className={`flex flex-col justify-center border h-16 outline-none px-4 focus-within:bg-white/5 bg-transparent ${!simulationRelayEndpointInput.value.valid ? 'border-red-400' : 'border-white/50 focus-within:border-white/80'}`}>\n\t\t\t\t\t\t<span className='text-sm text-gray-500'>Bundle Simulation Relay URL</span>\n\t\t\t\t\t\t<input onInput={(e: JSX.TargetedEvent<HTMLInputElement>) => validateSimulationRelayEndpointInput(e.currentTarget.value)} value={simulationRelayEndpointInput.value.value} type='text' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='https://' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div key = {'submissionRelayEndpointInput'} className={`flex flex-col justify-center border h-16 outline-none px-4 focus-within:bg-white/5 bg-transparent ${!submissionRelayEndpointInput.value.valid ? 'border-red-400' : 'border-white/50 focus-within:border-white/80'}`}>\n\t\t\t\t\t\t<span className='text-sm text-gray-500'>Bundle Submission Relay URL</span>\n\t\t\t\t\t\t<input onInput={(e: JSX.TargetedEvent<HTMLInputElement>) => validateAndSetSubmissionRelayEndpointInput(e.currentTarget.value)} value={submissionRelayEndpointInput.value.value} type='text' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='https://' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div key = {'blocksInFutureInput'} className={`flex flex-col justify-center border h-16 outline-none px-4 focus-within:bg-white/5 bg-transparent ${!blocksInFutureInput.value.valid ? 'border-red-400' : 'border-white/50 focus-within:border-white/80'}`}>\n\t\t\t\t\t\t<span className='text-sm text-gray-500'>Target Blocks In Future For Bundle Confirmation</span>\n\t\t\t\t\t\t<input onInput={(e: JSX.TargetedEvent<HTMLInputElement>) => validateAndSetBlocksInFutureInput(e.currentTarget.value)} value={blocksInFutureInput.value.value} type='number' className='bg-transparent outline-none placeholder:text-gray-600' />\n\t\t\t\t\t</div>\n\t\t\t\t</> }\n\t\t\t\t<div className={`flex flex-col justify-center border h-16 outline-none px-4 focus-within:bg-white/5 bg-transparent ${!priorityFeeInput.value.valid ? 'border-red-400' : 'border-white/50 focus-within:border-white/80'}`}>\n\t\t\t\t\t<span className='text-sm text-gray-500'>Priority Fee (GWEI)</span>\n\t\t\t\t\t<input onInput={(e: JSX.TargetedEvent<HTMLInputElement>) => validateAndSetPriorityFeeInput(e.currentTarget.value)} value={priorityFeeInput.value.value} type='number' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='0.1' />\n\t\t\t\t</div>\n\t\t\t\t<div className='flex gap-2'>\n\t\t\t\t\t<Button onClick={saveSettings} disabled={!allValidInputs.value} variant='primary'>Save</Button>\n\t\t\t\t\t<Button onClick={resetSettings} variant='secondary'>Reset</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : null\n}\n"]}